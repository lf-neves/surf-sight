enum ProcessingStatus {
    pending
    processing
    completed
    failed
}

enum ForecastServiceEventType {
    FORECASTS_UPDATE_ENQUEUED
}

model ForecastServiceEvent {
    forecastServiceEventId String                   @id @default(uuid()) @db.Uuid
    processingStatus       ProcessingStatus         @default(pending)
    payload                Json                     @default("{}")
    retries                Int                      @default(0)
    eventType              ForecastServiceEventType
    enqueuerAwsRequestId   String?                  @db.VarChar(255)
    processorAwsRequestIds String[]                 @default([])
    createdAt              DateTime                 @default(now())
    updatedAt              DateTime                 @updatedAt

    @@index([processingStatus])
    @@index([eventType])
    @@index([createdAt])
    @@map("forecast_service_events")
}
